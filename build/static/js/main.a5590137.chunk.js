(this.webpackJsonploc_it=this.webpackJsonploc_it||[]).push([[0],{307:function(e,t,c){},314:function(e,t,c){},315:function(e,t,c){},316:function(e,t,c){},451:function(e,t,c){},452:function(e,t,c){},489:function(e,t,c){},490:function(e,t,c){},491:function(e,t,c){},494:function(e,t,c){},495:function(e,t,c){},496:function(e,t,c){},497:function(e,t,c){},498:function(e,t,c){},499:function(e,t,c){},500:function(e,t,c){},501:function(e,t,c){},502:function(e,t,c){},503:function(e,t,c){},504:function(e,t,c){},505:function(e,t,c){},507:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c(35),n=c.n(s),r=(c(307),c(552)),i=c(555),l=c(556),o=c(557),j=c(558),d=c(559),u=c(560),b=c(561),m=c(562),O=c(26),h=c(30),p=c(34),x=c(59),f={info:JSON.parse(localStorage.getItem("admin"))||null},v=Object(x.b)({name:"admin",initialState:f,reducers:{setAdmin:function(e,t){e.info=t.payload}}}),N=(v.actions.setUser,v.reducer),g=c(1);function w(){var e=Object(p.c)((function(e){return e.admin.info})),t=Object(p.b)(),c=Object(O.f)();return Object(g.jsx)("div",{className:"sidebar",children:Object(g.jsxs)("div",{className:"sidebarWrapper",children:[Object(g.jsxs)("div",{className:"sidebarMenu",children:[Object(g.jsx)("h3",{className:"sidebarTitle",children:"Dashboard"}),Object(g.jsx)("ul",{className:"sidebarList",children:Object(g.jsx)(h.b,{to:"/",className:"link",children:Object(g.jsxs)("li",{className:"sidebarListItem active",children:[Object(g.jsx)(r.a,{className:"sidebarIcon"}),"Home"]})})})]}),Object(g.jsxs)("div",{className:"sidebarMenu",children:[Object(g.jsx)("h3",{className:"sidebarTitle",children:"Quick Menu"}),Object(g.jsxs)("ul",{className:"sidebarList",children:[Object(g.jsx)(h.b,{to:"/users",className:"link",children:Object(g.jsxs)("li",{className:"sidebarListItem",children:[Object(g.jsx)(i.a,{className:"sidebarIcon"}),"Users"]})}),Object(g.jsx)(h.b,{to:"/movies",className:"link",children:Object(g.jsxs)("li",{className:"sidebarListItem",children:[Object(g.jsx)(l.a,{className:"sidebarIcon"}),"Movies"]})}),Object(g.jsx)(h.b,{to:"/lists",className:"link",children:Object(g.jsxs)("li",{className:"sidebarListItem",children:[Object(g.jsx)(o.a,{className:"sidebarIcon"}),"Lists"]})}),Object(g.jsx)(h.b,{to:"/vouchers",className:"link",children:Object(g.jsxs)("li",{className:"sidebarListItem",children:[Object(g.jsx)(i.a,{className:"sidebarIcon"}),"Voucher"]})}),Object(g.jsx)(h.b,{to:"/newMovies",className:"link",children:Object(g.jsxs)("li",{className:"sidebarListItem",children:[Object(g.jsx)(j.a,{className:"sidebarIcon"}),"Add Movie"]})}),Object(g.jsx)(h.b,{to:"/newListMovie",className:"link",children:Object(g.jsxs)("li",{className:"sidebarListItem",children:[Object(g.jsx)(j.a,{className:"sidebarIcon"}),"Add List"]})}),Object(g.jsx)(h.b,{to:"/newVouchers",className:"link",children:Object(g.jsxs)("li",{className:"sidebarListItem",children:[Object(g.jsx)(j.a,{className:"sidebarIcon"}),"Add Voucher"]})})]})]}),Object(g.jsxs)("div",{className:"sidebarMenu",children:[Object(g.jsx)("h3",{className:"sidebarTitle",children:"Notifications"}),Object(g.jsxs)("ul",{className:"sidebarList",children:[Object(g.jsxs)("li",{className:"sidebarListItem",children:[Object(g.jsx)(d.a,{className:"sidebarIcon"}),"Mail"]}),Object(g.jsxs)("li",{className:"sidebarListItem",children:[Object(g.jsx)(u.a,{className:"sidebarIcon"}),"Messages"]})]})]}),Object(g.jsxs)("div",{className:"sidebarMenu",children:[Object(g.jsx)("h3",{className:"sidebarTitle",children:"Admin"}),Object(g.jsxs)("ul",{className:"sidebarList",children:[Object(g.jsxs)("li",{className:"sidebarListItem",children:[Object(g.jsx)(b.a,{className:"sidebarIcon"}),Object(g.jsx)(h.b,{to:{pathname:"/users/"+e._id},state:{user:e},children:"Admin Info"})]}),Object(g.jsxs)("li",{className:"sidebarListItem",onClick:function(){return window.localStorage.removeItem("token"),window.localStorage.removeItem("admin"),t(v.actions.setAdmin(null)),void c("/login")},children:[Object(g.jsx)(m.a,{className:"sidebarIcon"}),"Logout"]})]})]})]})})}c(314);var I=c(563),y=c(564),C=c(565);function S(){var e=Object(p.c)((function(e){return e.admin.info})),t=Object(O.f)(),c=Object(p.b)();return Object(g.jsx)("div",{className:"topbar",children:Object(g.jsxs)("div",{className:"topbarWrapper",children:[Object(g.jsx)("div",{className:"topLeft",children:Object(g.jsxs)("span",{className:"logo",children:["Admin: ",Object(g.jsx)("b",{children:e?e.username:""})]})}),Object(g.jsxs)("div",{className:"topRight",children:[Object(g.jsxs)("div",{className:"topbarIconContainer",children:[Object(g.jsx)(I.a,{}),Object(g.jsx)("span",{className:"topIconBadge",children:"2"})]}),Object(g.jsxs)("div",{className:"topbarIconContainer",children:[Object(g.jsx)(y.a,{}),Object(g.jsx)("span",{className:"topIconBadge",children:"2"})]}),Object(g.jsx)("img",{src:e?e.profilePic:"",alt:"",className:"topAvatar"}),Object(g.jsxs)("div",{className:"profile",children:[Object(g.jsx)(C.a,{className:"icon"}),Object(g.jsxs)("ul",{className:"options",children:[Object(g.jsx)("li",{className:"option-item",children:"Setting"}),Object(g.jsx)("li",{className:"option-item",onClick:function(){return window.localStorage.removeItem("token"),window.localStorage.removeItem("admin"),c(v.actions.setAdmin(null)),void t("/login")},children:"Logout"})]})]})]})]})})}c(315);var U=c(4),k=c(24),L=c(10),T=c(3),M=(c(316),c(566)),P=c(582),_=c(270),A=c(275),D=c(141),B=c(570);function V(e){var t=e.title,c=e.data,a=e.dataKey,s=e.grid;return Object(g.jsxs)("div",{className:"chart",children:[Object(g.jsx)("h3",{className:"chartTitle",children:t}),Object(g.jsx)(M.a,{width:"100%",aspect:4,children:Object(g.jsxs)(P.a,{data:c,children:[Object(g.jsx)(_.a,{dataKey:"name",stroke:"#5550bd"}),Object(g.jsx)(A.a,{type:"monotone",dataKey:a,stroke:"#5550bd"}),Object(g.jsx)(D.a,{}),s&&Object(g.jsx)(B.a,{stroke:"#e0dfdf",strokeDasharray:"5 5"})]})})]})}c(451);var E=c(571),F=c(572);function R(){var e=Object(p.c)((function(e){return e.lists.list})),t=Object(p.c)((function(e){return e.users.arrayUsers})),c=Object(p.c)((function(e){return e.movies.movies}));return Object(g.jsxs)("div",{className:"featured",children:[Object(g.jsxs)("div",{className:"featuredItem",children:[Object(g.jsx)("span",{className:"featuredTitle",children:"Users"}),Object(g.jsxs)("div",{className:"featuredMoneyContainer",children:[Object(g.jsx)("span",{className:"featuredMoney",children:t.length}),Object(g.jsxs)("span",{className:"featuredMoneyRate",children:["-11.4 ",Object(g.jsx)(E.a,{className:"featuredIcon negative"})]})]})]}),Object(g.jsxs)("div",{className:"featuredItem",children:[Object(g.jsx)("span",{className:"featuredTitle",children:"Movies"}),Object(g.jsxs)("div",{className:"featuredMoneyContainer",children:[Object(g.jsx)("span",{className:"featuredMoney",children:c.length}),Object(g.jsxs)("span",{className:"featuredMoneyRate",children:["-1.4 ",Object(g.jsx)(E.a,{className:"featuredIcon negative"})]})]})]}),Object(g.jsxs)("div",{className:"featuredItem",children:[Object(g.jsx)("span",{className:"featuredTitle",children:"List Movie"}),Object(g.jsxs)("div",{className:"featuredMoneyContainer",children:[Object(g.jsx)("span",{className:"featuredMoney",children:e.length}),Object(g.jsxs)("span",{className:"featuredMoneyRate",children:["+2.4 ",Object(g.jsx)(F.a,{className:"featuredIcon"})]})]})]})]})}c(452);var K=c(83),G=c.n(K),z=c(271),J=c.n(z),W=G.a.create({baseURL:"https://sever-json-netflix.herokuapp.com/",headers:{"Content-Type":"application/json"},paramsSerializer:function(e){return J.a.stringify(e)}});W.interceptors.request.use((function(e){var t=window.localStorage.getItem("token");return t&&(e.headers.token="Bearer ".concat(t)),e})),G.a.interceptors.response.use((function(e){return e.data.data}),(function(e){return Promise.reject(e)}));var Y=W,H={login:function(e){return Y.post("api/auth/login",e)},getStats:function(){return Y.get("/api/users/stats")}},Z=(c(489),c(573)),q={getUsersList:function(){return Y.get("api/users")},getNewUsers:function(){return Y.get("api/users?new=true")},createNewUser:function(e){return Y.post("api/users/create",e)},updateUser:function(e,t){var c="api/users/".concat(e);return Y.put(c,t)},deleteUser:function(e){var t="api/users/delete/".concat(e);return Y.delete(t)}};function Q(){var e=Object(a.useState)([]),t=Object(T.a)(e,2),c=t[0],s=t[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(L.a)(Object(U.a)().mark((function e(){var t;return Object(U.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.getNewUsers();case 3:t=e.sent,s(t.data.users),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),console.log(c),Object(g.jsxs)("div",{className:"widgetSm",children:[Object(g.jsx)("span",{className:"widgetSmTitle",children:"New Join Members"}),Object(g.jsx)("ul",{className:"widgetSmList",children:c.map((function(e){return Object(g.jsxs)("li",{className:"widgetSmListItem",children:[Object(g.jsx)("img",{src:e.profilePic||"https://pbs.twimg.com/media/D8tCa48VsAA4lxn.jpg",alt:"",className:"widgetSmImg"}),Object(g.jsxs)("div",{className:"widgetSmUser",children:[Object(g.jsx)("span",{className:"widgetSmUserTitle",children:"User Name"}),Object(g.jsx)("span",{className:"widgetSmUsername",children:e.username})]}),Object(g.jsx)("div",{className:"widgetSmUser",children:Object(g.jsx)("span",{className:"widgetSmUserTitle",children:e.createAt})}),Object(g.jsx)("button",{className:"widgetSmButton",children:Object(g.jsxs)(h.b,{to:{pathname:"/users/"+e._id},state:{user:e},children:[Object(g.jsx)(Z.a,{className:"widgetSmIcon"}),"Display"]})})]})}))})]})}c(490);function X(){var e=Object(a.useMemo)((function(){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Agu","Sep","Oct","Nov","Dec"]}),[]),t=Object(a.useState)([]),c=Object(T.a)(t,2),s=c[0],n=c[1];return Object(a.useEffect)((function(){var t=function(){var t=Object(L.a)(Object(U.a)().mark((function t(){var c;return Object(U.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H.getStats();case 3:c=t.sent,console.log(c),c.data.data.sort((function(e,t){return e._id-t._id})).map((function(t){return n((function(c){return[].concat(Object(k.a)(c),[{name:e[t._id-1],"New User":t.total}])}))})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),Object(g.jsxs)("div",{className:"home",children:[Object(g.jsx)(R,{}),Object(g.jsx)(V,{data:s,title:"User Analytics",grid:!0,dataKey:"New User"}),Object(g.jsx)("div",{className:"homeWidgets",children:Object(g.jsx)(Q,{})})]})}c(491);var $=c(27),ee=c(90),te=c(574),ce=Object(x.b)({name:"users",initialState:{arrayUsers:[]},reducers:{setUsers:function(e,t){e.arrayUsers=t.payload}}}),ae=(ce.actions.setMovie,ce.reducer);function se(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.users.arrayUsers}));Object(a.useEffect)((function(){var t=function(){var t=Object(L.a)(Object(U.a)().mark((function t(){var c;return Object(U.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,q.getUsersList();case 3:c=t.sent,e(ce.actions.setUsers(c.data.users)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();t()}),[]);var c=function(){var c=Object(L.a)(Object(U.a)().mark((function c(a){var s,n;return Object(U.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,console.log(a),s=t.filter((function(e){return e._id!==a})),e(ce.actions.setUsers(s)),c.next=6,q.deleteUser(a);case 6:n=c.sent,$.c.success(n.data.message),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(0),$.c.error(c.t0.response.data);case 13:case"end":return c.stop()}}),c,null,[[0,10]])})));return function(e){return c.apply(this,arguments)}}(),s=[{field:"_id",headerName:"ID",width:90},{field:"user",headerName:"User",width:120,renderCell:function(e){return Object(g.jsxs)("div",{className:"userListUser",children:[Object(g.jsx)("img",{className:"userListImg",src:e.row.profilePic,alt:""}),e.row.userncame]})}},{field:"email",headerName:"Email",width:200},{field:"isAdmin",headerName:"IsAdmin",width:120},{field:"point",headerName:"Point",width:160},{field:"wallet_balance",headerName:"Money",width:160},{field:"action",headerName:"Action",width:150,renderCell:function(e){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(h.b,{to:{pathname:"/users/"+e.row._id},state:{user:e.row},children:Object(g.jsx)("button",{className:"userListEdit",children:"Edit"})}),Object(g.jsx)(te.a,{className:"userListDelete",onClick:function(){return c(e.row._id)}})]})}}];return Object(g.jsx)("div",{className:"userList",children:Object(g.jsx)(ee.a,{rows:t,disableSelectionOnClick:!0,columns:s,pageSize:8,checkboxSelection:!0,getRowId:function(e){return e._id}})})}var ne=c(9),re=c(11),ie=c(577),le=c(578),oe=c(579),je=c(580),de=c(44),ue=c(165),be=Object(ue.a)({apiKey:"AIzaSyCjg1Ho0SnLMYAC8D3TN4oGbxCNTzt8wZ0",authDomain:"netflix-admin-70527.firebaseapp.com",projectId:"netflix-admin-70527",storageBucket:"netflix-admin-70527.appspot.com",messagingSenderId:"578489467671",appId:"1:578489467671:web:5e3e578b6562ef3977ed52",measurementId:"G-TDZPN87LD6"}),me=Object(de.b)(be);c(494);function Oe(){var e=Object(O.e)().state.user,t=Object(a.useState)(null),c=Object(T.a)(t,2),s=(c[0],c[1],Object(a.useState)(null)),n=Object(T.a)(s,2),r=n[0],l=n[1],o=Object(a.useState)(null),j=Object(T.a)(o,2),u=(j[0],j[1],Object(a.useState)(null)),b=Object(T.a)(u,2),m=(b[0],b[1],Object(a.useState)(0)),p=Object(T.a)(m,2),x=(p[0],p[1],Object(a.useState)(0)),f=Object(T.a)(x,2),v=(f[0],f[1],Object(a.useState)(!1)),N=Object(T.a)(v,2),w=(N[0],N[1],Object(a.useState)(0)),I=Object(T.a)(w,2),y=I[0],C=I[1],S=Object(a.useState)(null),k=Object(T.a)(S,2),M=k[0],P=k[1],_=function(e){var t=e.target.value;P(Object(re.a)(Object(re.a)({},M),{},Object(ne.a)({},e.target.name,t)))},A=function(){var t=Object(L.a)(Object(U.a)().mark((function t(c){var a;return Object(U.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),t.prev=1,t.next=4,q.updateUser(e._id,M);case 4:a=t.sent,$.c.success(a.data.message),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"user",children:[Object(g.jsxs)("div",{className:"userTitleContainer",children:[Object(g.jsx)("h1",{className:"userTitle",children:"Edit User"}),Object(g.jsx)(h.b,{to:"/newUser",children:Object(g.jsx)("button",{className:"userAddButton",children:"Create"})})]}),Object(g.jsxs)("div",{className:"userContainer",children:[Object(g.jsxs)("div",{className:"userShow",children:[Object(g.jsxs)("div",{className:"userShowTop",children:[Object(g.jsx)("img",{src:e.profilePic,alt:"",className:"userShowImg"}),Object(g.jsx)("div",{className:"userShowTopTitle",children:Object(g.jsx)("span",{className:"userShowUsername",children:e.username})})]}),Object(g.jsxs)("div",{className:"userShowBottom",children:[Object(g.jsx)("span",{className:"userShowTitle",children:"Account Details"}),Object(g.jsxs)("div",{className:"userShowInfo",children:[Object(g.jsx)(i.a,{className:"userShowIcon"}),Object(g.jsx)("span",{className:"userShowInfoTitle",children:e.username})]}),Object(g.jsx)("span",{className:"userShowTitle",children:"Contact Details"}),Object(g.jsxs)("div",{className:"userShowInfo",children:[Object(g.jsx)(ie.a,{className:"userShowIcon"}),Object(g.jsx)("span",{className:"userShowInfoTitle",children:e.phone})]}),Object(g.jsxs)("div",{className:"userShowInfo",children:[Object(g.jsx)(d.a,{className:"userShowIcon"}),Object(g.jsx)("span",{className:"userShowInfoTitle",children:e.email})]}),Object(g.jsxs)("div",{className:"userShowInfo",children:[Object(g.jsx)(le.a,{className:"userShowIcon"}),Object(g.jsx)("span",{className:"userShowInfoTitle",children:e.wallet_balance})]}),Object(g.jsxs)("div",{className:"userShowInfo",children:[Object(g.jsx)(oe.a,{className:"userShowIcon"}),Object(g.jsx)("span",{className:"userShowInfoTitle",children:e.point})]})]})]}),Object(g.jsxs)("div",{className:"userUpdate",children:[Object(g.jsx)("span",{className:"userUpdateTitle",children:"Edit"}),Object(g.jsxs)("form",{className:"userUpdateForm",children:[Object(g.jsxs)("div",{className:"userUpdateLeft",children:[Object(g.jsxs)("div",{className:"userUpdateItem",children:[Object(g.jsx)("label",{children:"Username"}),Object(g.jsx)("input",{type:"text",placeholder:"annabeck99",name:"username",onChange:_,className:"userUpdateInput"})]}),Object(g.jsxs)("div",{className:"userUpdateItem",children:[Object(g.jsx)("label",{children:"Email"}),Object(g.jsx)("input",{type:"text",name:"email",onChange:_,placeholder:"jony@gmail.com",className:"userUpdateInput"})]}),Object(g.jsxs)("div",{className:"userUpdateItem",children:[Object(g.jsx)("label",{children:"Phone"}),Object(g.jsx)("input",{type:"text",name:"phone",onChange:_,placeholder:"0353339425",className:"userUpdateInput"})]}),Object(g.jsxs)("div",{className:"userUpdateItem",children:[Object(g.jsx)("label",{children:"Wallet Balance"}),Object(g.jsx)("input",{type:"number",name:"wallet_balance",onChange:_,placeholder:"0",className:"userUpdateInput"})]}),Object(g.jsxs)("div",{className:"userUpdateItem",children:[Object(g.jsx)("label",{children:"Point"}),Object(g.jsx)("input",{type:"number",name:"point",placeholder:"",onChange:_,className:"userUpdateInput"})]}),e.isAdmin?Object(g.jsx)("div",{}):Object(g.jsxs)("div",{className:"userUpdateItem",children:[Object(g.jsx)("label",{children:"Type"}),Object(g.jsxs)("select",{name:"isAdmin",className:"userUpdateInput",onChange:_,children:[Object(g.jsx)("option",{value:"false",children:"isMember"}),Object(g.jsx)("option",{value:"true",children:"isAdmin"})]})]})]}),Object(g.jsxs)("div",{className:"userUpdateRight",children:[Object(g.jsxs)("div",{className:"userUpdateUpload",children:[r?Object(g.jsx)("div",{children:Object(g.jsx)("img",{src:URL.createObjectURL(r),alt:"Thumb",className:"userUpdateImg"})}):Object(g.jsx)("img",{className:"userUpdateImg",src:e.profilePic,alt:""}),Object(g.jsx)("label",{htmlFor:"file",children:Object(g.jsx)(je.a,{className:"userUpdateIcon"})}),Object(g.jsx)("input",{type:"file",id:"file",style:{display:"none"},name:"profilePic",onChange:function(e){e.target.files&&e.target.files.length>0&&l(e.target.files[0])}})]}),1===y?Object(g.jsx)("button",{className:"addProductButton",onClick:A,children:"Create"}):Object(g.jsx)("button",{className:"addProductButton",onClick:function(e){e.preventDefault(),[{file:r,label:"profilePic"}].forEach((function(e){var t=Object(de.c)(me,"/users/".concat(e.file.name)),c=Object(de.d)(t,e.file);c.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done")}),(function(e){console.log(e)}),Object(L.a)(Object(U.a)().mark((function t(){return Object(U.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(de.a)(c.snapshot.ref).then((function(t){P((function(c){return Object(re.a)(Object(re.a)({},c),{},Object(ne.a)({},e.label,t))})),C((function(e){return e+1}))}));case 1:case"end":return t.stop()}}),t)}))))}))},children:"Upload"})]})]})]})]})]})}c(495);function he(){var e=Object(a.useState)(null),t=Object(T.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(null),r=Object(T.a)(n,2),i=r[0],l=r[1],o=Object(a.useState)(null),j=Object(T.a)(o,2),d=j[0],u=j[1],b=Object(a.useState)(null),m=Object(T.a)(b,2),O=m[0],h=(m[1],Object(a.useState)(null)),p=Object(T.a)(h,2),x=p[0],f=p[1],v=Object(a.useState)(null),N=Object(T.a)(v,2),w=N[0],I=N[1],y=Object(a.useState)(null),C=Object(T.a)(y,2),S=C[0],k=C[1],M=function(e){var t=e.target.value;k(Object(re.a)(Object(re.a)({},S),{},Object(ne.a)({},e.target.name,t)))},P=function(){var e=Object(L.a)(Object(U.a)().mark((function e(t){var c;return Object(U.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,q.createNewUser(S);case 4:c=e.sent,$.c.success(c.data.message),s(null),l(null),u(null),f(null),I(null),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0.response.data);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"newUser",children:[Object(g.jsx)("h1",{className:"newUserTitle",children:"New User"}),Object(g.jsxs)("form",{className:"newUserForm",children:[Object(g.jsxs)("div",{className:"newUserItem",children:[Object(g.jsx)("label",{children:"Username"}),Object(g.jsx)("input",{type:"text",placeholder:"",name:"username",value:c,onChange:M})]}),Object(g.jsxs)("div",{className:"newUserItem",children:[Object(g.jsx)("label",{children:"Email"}),Object(g.jsx)("input",{type:"email",placeholder:"jony@gmail.com",name:"email",value:i,onChange:M})]}),Object(g.jsxs)("div",{className:"newUserItem",children:[Object(g.jsx)("label",{children:"Password"}),Object(g.jsx)("input",{type:"password",placeholder:"password",name:"password",value:O,onChange:M})]}),Object(g.jsxs)("div",{className:"newUserItem",children:[Object(g.jsx)("label",{children:"Phone"}),Object(g.jsx)("input",{type:"text",placeholder:"0353339425",name:"phone",value:d,onChange:M})]}),Object(g.jsxs)("div",{className:"newUserItem",children:[Object(g.jsx)("label",{children:"Wallet Banance"}),Object(g.jsx)("input",{type:"number",placeholder:"0",name:"wallet_balance",value:x,onChange:M})]}),Object(g.jsx)("div",{className:"newUserItem",children:Object(g.jsxs)("div",{className:"newUserItem",children:[Object(g.jsx)("label",{children:"Point"}),Object(g.jsx)("input",{type:"number",placeholder:"0",name:"point",value:w,onChange:M})]})}),Object(g.jsx)("button",{className:"newUserButton",onClick:function(e){return P(e)},children:"Create"})]})]})}c(496);var pe=Object(x.b)({name:"movies",initialState:{movies:[]},reducers:{setMovie:function(e,t){e.movies=t.payload}}}),xe=(pe.actions.setMovie,pe.reducer),fe={getMovies:function(){return Y.get("api/movies")},createMovie:function(e){return Y.post("api/movies/create",{movie:e})},updateMovie:function(e,t){var c="api/movies/update/".concat(e);return Y.put(c,t)},deleteMovie:function(e){var t="api/movies/delete/".concat(e);return Y.delete(t)}};function ve(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.movies.movies}));console.log(t),Object(a.useEffect)((function(){var t=function(){var t=Object(L.a)(Object(U.a)().mark((function t(){var c;return Object(U.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fe.getMovies();case 3:c=t.sent,e(pe.actions.setMovie(c.data.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();t()}),[]);var c=function(){var c=Object(L.a)(Object(U.a)().mark((function c(a){var s,n;return Object(U.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,console.log(a),s=t.filter((function(e){return e._id!==a})),e(pe.actions.setMovie(s)),c.next=6,fe.deleteMovie(a);case 6:n=c.sent,$.c.success(n.data.message),c.next=14;break;case 10:c.prev=10,c.t0=c.catch(0),$.c.error(c.t0.response.data),console.log(c.t0);case 14:case"end":return c.stop()}}),c,null,[[0,10]])})));return function(e){return c.apply(this,arguments)}}(),s=[{field:"_id",headerName:"ID",width:90},{field:"movie",headerName:"Movie",width:120,renderCell:function(e){return Object(g.jsxs)("div",{className:"productListItem",children:[Object(g.jsx)("img",{className:"productListImg",src:e.row.img,alt:""}),e.row.name]})}},{field:"title",headerName:"Name",width:120},{field:"genre",headerName:"Genre",width:120},{field:"year",headerName:"Year",width:160},{field:"isSeries",headerName:"IsSeries",width:160},{field:"price",headerName:"Price",width:120},{field:"action",headerName:"Action",width:150,renderCell:function(e){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(h.b,{to:{pathname:"/movie/"+e.row._id},state:{movie:e.row},children:Object(g.jsx)("button",{className:"productListEdit",children:"Edit"})}),Object(g.jsx)(te.a,{className:"productListDelete",onClick:function(){return c(e.row._id)}})]})}}];return Object(g.jsx)("div",{className:"productList",children:Object(g.jsx)(ee.a,{rows:t,disableSelectionOnClickND:!0,columns:s,pageSize:8,checkboxSelection:!0,getRowId:function(e){return e._id}})})}c(497);var Ne={getListMovie:function(){return Y.get("api/list")},createListMovie:function(e){return Y.post("api/list/create",e)},updateListMovie:function(e,t){var c="api/list/update/".concat(e);return Y.put(c,t)},deleteListMovie:function(e){var t="api/list/delete/".concat(e);return Y.delete(t)}},ge=Object(x.b)({name:"list",initialState:{list:[]},reducers:{setLists:function(e,t){e.list=t.payload}}}),we=(ge.actions.setLists,ge.reducer);function Ie(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.lists.list}));Object(a.useEffect)((function(){var t=function(){var t=Object(L.a)(Object(U.a)().mark((function t(){var c;return Object(U.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ne.getListMovie();case 3:c=t.sent,e(ge.actions.setLists(c.data.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();t()}),[]);var c=function(){var c=Object(L.a)(Object(U.a)().mark((function c(a){var s,n;return Object(U.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,console.log(a),s=t.filter((function(e){return e._id!==a})),e(ge.actions.setLists(s)),c.next=6,Ne.deleteListMovie(a);case 6:n=c.sent,$.c.success(n.data.message),c.next=14;break;case 10:c.prev=10,c.t0=c.catch(0),console.log(c.t0),$.c.error(c.t0.response.data);case 14:case"end":return c.stop()}}),c,null,[[0,10]])})));return function(e){return c.apply(this,arguments)}}(),s=[{field:"_id",headerName:"ID",width:250},{field:"title",headerName:"title",width:250},{field:"genre",headerName:"Genre",width:150},{field:"type",headerName:"type",width:150},{field:"action",headerName:"Action",width:150,renderCell:function(e){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(h.b,{to:{pathname:"/list/"+e.row._id},state:{list:e.row},children:Object(g.jsx)("button",{className:"productListEdit",children:"Edit"})}),Object(g.jsx)(te.a,{className:"productListDelete",onClick:function(){return c(e.row._id)}})]})}}];return Object(g.jsx)("div",{className:"productList",children:Object(g.jsx)(ee.a,{rows:t,disableSelectionOnClick:!0,columns:s,pageSize:8,checkboxSelection:!0,getRowId:function(e){return e._id}})})}c(498);function ye(){var e=Object(O.e)().state.list,t=Object(O.f)(),c=Object(a.useState)(null),s=Object(T.a)(c,2),n=(s[0],s[1],Object(a.useState)(null)),r=Object(T.a)(n,2),i=(r[0],r[1],Object(a.useState)(null)),l=Object(T.a)(i,2),o=(l[0],l[1],Object(a.useState)(null)),j=Object(T.a)(o,2),d=j[0],u=j[1],b=function(e){var t=e.target.value;u(Object(re.a)(Object(re.a)({},d),{},Object(ne.a)({},e.target.name,t)))},m=function(){var c=Object(L.a)(Object(U.a)().mark((function c(a){var s;return Object(U.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return a.preventDefault(),c.prev=1,console.log(e._id),c.next=5,Ne.updateListMovie(e._id,d);case 5:s=c.sent,$.c.success(s.data.message),t("/lists"),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(1),$.c.error(c.t0.response.data);case 13:case"end":return c.stop()}}),c,null,[[1,10]])})));return function(e){return c.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"product",children:[Object(g.jsxs)("div",{className:"productTitleContainer",children:[Object(g.jsx)("h1",{className:"productTitle",children:"List"}),Object(g.jsx)(h.b,{to:"/newListMovie",children:Object(g.jsx)("button",{className:"productAddButton",children:"Create"})})]}),Object(g.jsx)("div",{className:"productTop",children:Object(g.jsxs)("div",{className:"productTopRight",children:[Object(g.jsx)("div",{className:"productInfoTop",children:Object(g.jsx)("span",{className:"productName",children:e.title})}),Object(g.jsxs)("div",{className:"productInfoBottom",children:[Object(g.jsxs)("div",{className:"productInfoItem",children:[Object(g.jsx)("span",{className:"productInfoKey",children:"id:"}),Object(g.jsx)("span",{className:"productInfoValue",children:e._id})]}),Object(g.jsxs)("div",{className:"productInfoItem",children:[Object(g.jsx)("span",{className:"productInfoKey",children:"genre:"}),Object(g.jsx)("span",{className:"productInfoValue",children:e.genre})]}),Object(g.jsxs)("div",{className:"productInfoItem",children:[Object(g.jsx)("span",{className:"productInfoKey",children:"type:"}),Object(g.jsx)("span",{className:"productInfoValue",children:e.type})]})]})]})}),Object(g.jsx)("div",{className:"productBottom",children:Object(g.jsxs)("form",{className:"productForm",children:[Object(g.jsxs)("div",{className:"productFormLeft",children:[Object(g.jsx)("label",{children:"List Title"}),Object(g.jsx)("input",{type:"text",placeholder:e.title,name:"title",onChange:b}),Object(g.jsx)("label",{children:"Type"}),Object(g.jsx)("input",{type:"text",placeholder:e.type,name:"type",onChange:b}),Object(g.jsx)("label",{children:"Genre"}),Object(g.jsx)("input",{type:"text",placeholder:e.genre,name:"genre",onChange:b})]}),Object(g.jsx)("div",{className:"productFormRight",children:Object(g.jsx)("button",{className:"productButton",onClick:function(e){return m(e)},children:"Update"})})]})})]})}c(499);function Ce(){var e=Object(a.useState)(null),t=Object(T.a)(e,2),c=t[0],s=t[1],n=Object(O.f)(),r=Object(p.c)((function(e){return e.movies.movies})),i=(Object(p.c)((function(e){return e.lists.list})),Object(p.b)(),function(e){var t=e.target.value;s(Object(re.a)(Object(re.a)({},c),{},Object(ne.a)({},e.target.name,t)))}),l=function(){var e=Object(L.a)(Object(U.a)().mark((function e(t){var a;return Object(U.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(c),t.preventDefault(),e.prev=2,e.next=5,Ne.createListMovie(c);case 5:a=e.sent,$.c.success(a.data.message),n("/lists"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),$.c.error(e.t0.response.data);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"newProduct",children:[Object(g.jsx)("h1",{className:"addProductTitle",children:"New List"}),Object(g.jsxs)("form",{className:"addProductForm",children:[Object(g.jsxs)("div",{className:"formLeft",children:[Object(g.jsxs)("div",{className:"addProductItem",children:[Object(g.jsx)("label",{children:"Title"}),Object(g.jsx)("input",{type:"text",placeholder:"Popular Movies",name:"title",onChange:i})]}),Object(g.jsxs)("div",{className:"addProductItem",children:[Object(g.jsx)("label",{children:"Genre"}),Object(g.jsx)("input",{type:"text",placeholder:"action",name:"genre",onChange:i})]}),Object(g.jsxs)("div",{className:"addProductItem",children:[Object(g.jsx)("label",{children:"Type"}),Object(g.jsxs)("select",{name:"type",onChange:i,children:[Object(g.jsx)("option",{children:"Type"}),Object(g.jsx)("option",{value:"movie",children:"Movie"}),Object(g.jsx)("option",{value:"series",children:"Series"})]})]})]}),Object(g.jsx)("div",{className:"formRight",children:Object(g.jsxs)("div",{className:"addProductItem",children:[Object(g.jsx)("label",{children:"Content"}),Object(g.jsx)("select",{multiple:!0,name:"content",onChange:function(e){var t=Array.from(e.target.selectedOptions,(function(e){return e.value}));s(Object(re.a)(Object(re.a)({},c),{},Object(ne.a)({},e.target.name,t)))},style:{height:"280px"},children:r.map((function(e){return Object(g.jsx)("option",{value:e._id,children:e.title},e._id)}))})]})}),Object(g.jsx)("button",{className:"addProductButton",onClick:l,children:"Create"})]})]})}c(500);function Se(){var e=Object(O.e)().state.movie,t=Object(a.useState)(null),c=Object(T.a)(t,2),s=c[0],n=c[1],r=Object(a.useState)(null),i=Object(T.a)(r,2),l=(i[0],i[1],Object(a.useState)(null)),o=Object(T.a)(l,2),j=o[0],d=o[1],u=Object(a.useState)(0),b=Object(T.a)(u,2),m=b[0],p=b[1],x=Object(a.useState)({}),f=Object(T.a)(x,2),v=f[0],N=f[1],w=function(e){var t=e.target.value;N(Object(re.a)(Object(re.a)({},v),{},Object(ne.a)({},e.target.name,t)))},I=function(){var t=Object(L.a)(Object(U.a)().mark((function t(c){var a;return Object(U.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),t.prev=1,t.next=4,fe.updateMovie(e._id,v);case 4:a=t.sent,$.c.success(a.data.message),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return console.log(v),Object(g.jsxs)("div",{className:"product",children:[Object(g.jsxs)("div",{className:"productTitleContainer",children:[Object(g.jsx)("h1",{className:"productTitle",children:"Movie"}),Object(g.jsx)(h.b,{to:"/newMovies",children:Object(g.jsx)("button",{className:"productAddButton",children:"Create"})})]}),Object(g.jsx)("div",{className:"productTop",children:Object(g.jsxs)("div",{className:"productTopRight",children:[Object(g.jsxs)("div",{className:"productInfoTop",children:[Object(g.jsx)("img",{src:e.img,alt:"",className:"productInfoImg"}),Object(g.jsx)("span",{className:"productName",children:e.title})]}),Object(g.jsxs)("div",{className:"productInfoBottom",children:[Object(g.jsxs)("div",{className:"productInfoItem",children:[Object(g.jsx)("span",{className:"productInfoKey",children:"id: "}),Object(g.jsx)("span",{className:"productInfoValue",children:e._id})]}),Object(g.jsxs)("div",{className:"productInfoItem",children:[Object(g.jsx)("span",{className:"productInfoKey",children:"genre:"}),Object(g.jsx)("span",{className:"productInfoValue",children:e.genre})]}),Object(g.jsxs)("div",{className:"productInfoItem",children:[Object(g.jsx)("span",{className:"productInfoKey",children:"year:"}),Object(g.jsx)("span",{className:"productInfoValue",children:e.year})]}),Object(g.jsxs)("div",{className:"productInfoItem",children:[Object(g.jsx)("span",{className:"productInfoKey",children:"limit:"}),Object(g.jsx)("span",{className:"productInfoValue",children:e.limit})]}),Object(g.jsxs)("div",{className:"productInfoItem",children:[Object(g.jsx)("span",{className:"productInfoKey",children:"Price:"}),Object(g.jsx)("span",{className:"productInfoValue",children:e.price})]})]})]})}),Object(g.jsx)("div",{className:"productBottom",children:Object(g.jsxs)("form",{className:"productForm",children:[Object(g.jsxs)("div",{className:"productFormLeft",children:[Object(g.jsx)("label",{children:"Movie Title"}),Object(g.jsx)("input",{type:"text",placeholder:e.title,name:"title",onChange:w}),Object(g.jsx)("label",{children:"Year"}),Object(g.jsx)("input",{type:"text",placeholder:e.year,name:"year",onChange:w}),Object(g.jsx)("label",{children:"Genre"}),Object(g.jsx)("input",{type:"text",placeholder:e.genre,name:"genre",onChange:w}),Object(g.jsx)("label",{children:"Limit"}),Object(g.jsx)("input",{type:"text",placeholder:e.limit,name:"limit",onChange:w}),Object(g.jsx)("label",{children:"Trailer"}),Object(g.jsx)("input",{type:"text",placeholder:e.trailer,name:"trailer",onChange:w}),Object(g.jsx)("label",{children:"Video"}),Object(g.jsx)("input",{type:"file",placeholder:e.video,name:"video",onChange:function(e){return d(e.target.files[0])}})]}),Object(g.jsxs)("div",{className:"productFormRight",children:[Object(g.jsxs)("div",{className:"productUpload",children:[s?Object(g.jsx)("div",{children:Object(g.jsx)("img",{src:URL.createObjectURL(s),alt:"Thumb",className:"userUpdateImg"})}):Object(g.jsx)("img",{className:"userUpdateImg",src:e.img,alt:""}),Object(g.jsx)("label",{htmlFor:"file",children:Object(g.jsx)(je.a,{className:"userUpdateIcon"})}),Object(g.jsx)("input",{type:"file",id:"file",style:{display:"none"},name:"img",onChange:function(e){e.target.files&&e.target.files.length>0&&n(e.target.files[0])}})]}),2===m?Object(g.jsx)("button",{className:"addProductButton",onClick:I,children:"Create"}):Object(g.jsx)("button",{className:"addProductButton",onClick:function(e){e.preventDefault(),[{file:s,label:"img"},{file:j,label:"video"}].forEach((function(e){var t=Object(de.c)(me,"/items/".concat(e.file.name)),c=Object(de.d)(t,e.file);c.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done")}),(function(e){console.log(e)}),Object(L.a)(Object(U.a)().mark((function t(){return Object(U.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(de.a)(c.snapshot.ref).then((function(t){N((function(c){return Object(re.a)(Object(re.a)({},c),{},Object(ne.a)({},e.label,t))})),p((function(e){return e+1}))}));case 1:case"end":return t.stop()}}),t)}))))}))},children:"Upload"})]})]})})]})}c(501);function Ue(){var e=Object(a.useState)(null),t=Object(T.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(null),r=Object(T.a)(n,2),i=r[0],l=r[1],o=Object(a.useState)(null),j=Object(T.a)(o,2),d=j[0],u=j[1],b=Object(a.useState)(null),m=Object(T.a)(b,2),O=(m[0],m[1],Object(a.useState)(null)),h=Object(T.a)(O,2),p=h[0],x=h[1],f=Object(a.useState)(0),v=Object(T.a)(f,2),N=v[0],w=v[1],I=function(e){var t=e.target.value;s(Object(re.a)(Object(re.a)({},c),{},Object(ne.a)({},e.target.name,t)))},y=function(){var e=Object(L.a)(Object(U.a)().mark((function e(t){var a;return Object(U.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fe.createMovie(c);case 4:a=e.sent,$.c.success(a.data.message),s(null),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),$.c.error(e.t0.response.data);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"newProduct",children:[Object(g.jsx)("h1",{className:"addProductTitle",children:"New Movie"}),Object(g.jsxs)("form",{className:"addProductForm",children:[Object(g.jsxs)("div",{className:"addProductItem",children:[Object(g.jsx)("label",{children:"Image"}),Object(g.jsx)("input",{type:"file",id:"img",name:"img",onChange:function(e){return l(e.target.files[0])}})]}),Object(g.jsxs)("div",{className:"addProductItem",children:[Object(g.jsx)("label",{children:"Thumbnail image"}),Object(g.jsx)("input",{type:"file",id:"imgSm",name:"imgSm",onChange:function(e){return u(e.target.files[0])}})]}),Object(g.jsxs)("div",{className:"addProductItem",children:[Object(g.jsx)("label",{children:"Title"}),Object(g.jsx)("input",{type:"text",placeholder:"John Wick",name:"title",onChange:I})]}),Object(g.jsxs)("div",{className:"addProductItem",children:[Object(g.jsx)("label",{children:"Description"}),Object(g.jsx)("input",{type:"text",placeholder:"description",name:"desc",onChange:I})]}),Object(g.jsxs)("div",{className:"addProductItem",children:[Object(g.jsx)("label",{children:"Year"}),Object(g.jsx)("input",{type:"text",placeholder:"Year",name:"year",onChange:I})]}),Object(g.jsxs)("div",{className:"addProductItem",children:[Object(g.jsx)("label",{children:"Genre"}),Object(g.jsx)("input",{type:"text",placeholder:"Genre",name:"genre",onChange:I})]}),Object(g.jsxs)("div",{className:"addProductItem",children:[Object(g.jsx)("label",{children:"Price"}),Object(g.jsx)("input",{type:"number",placeholder:"Duration",name:"price",onChange:I})]}),Object(g.jsxs)("div",{className:"addProductItem",children:[Object(g.jsx)("label",{children:"Limit"}),Object(g.jsx)("input",{type:"text",placeholder:"limit",name:"limit",onChange:I})]}),Object(g.jsxs)("div",{className:"addProductItem",children:[Object(g.jsx)("label",{children:"Is Series?"}),Object(g.jsxs)("select",{name:"isSeries",id:"isSeries",onChange:I,children:[Object(g.jsx)("option",{value:"false",children:"No"}),Object(g.jsx)("option",{value:"true",children:"Yes"})]})]}),Object(g.jsxs)("div",{className:"addProductItem",children:[Object(g.jsx)("label",{children:"Link Trailer"}),Object(g.jsx)("input",{type:"text",placeholder:"trailer",name:"trailer",onChange:I})]}),Object(g.jsxs)("div",{className:"addProductItem",children:[Object(g.jsx)("label",{children:"Video"}),Object(g.jsx)("input",{type:"file",name:"video",onChange:function(e){return x(e.target.files[0])}})]}),3===N?Object(g.jsx)("button",{className:"addProductButton",onClick:y,children:"Create"}):Object(g.jsx)("button",{className:"addProductButton",onClick:function(e){e.preventDefault(),[{file:i,label:"img"},{file:d,label:"imgSm"},{file:p,label:"video"}].forEach((function(e){var t=Object(de.c)(me,"/items/".concat(e.file.name)),c=Object(de.d)(t,e.file);c.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done")}),(function(e){console.log(e)}),Object(L.a)(Object(U.a)().mark((function t(){return Object(U.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(de.a)(c.snapshot.ref).then((function(t){s((function(c){return Object(re.a)(Object(re.a)({},c),{},Object(ne.a)({},e.label,t))})),w((function(e){return e+1}))}));case 1:case"end":return t.stop()}}),t)}))))}))},children:"Upload"})]})]})}var ke=Object(x.b)({name:"vouchers",initialState:{vouchers:[]},reducers:{setVoucher:function(e,t){e.vouchers=t.payload}}}),Le=ke.reducer,Te={getVochers:function(e){var t="api/vouchers/list?page=".concat(e);return Y.get(t)},createVoucher:function(e){return Y.post("api/vouchers/create",e)},updateVoucher:function(e,t){var c="api/vouchers/update/".concat(e);return Y.post(c,t)},deleteVoucher:function(e){var t="api/vouchers/delete/".concat(e);return Y.delete(t)}};c(502);function Me(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.vouchers.vouchers}));Object(a.useEffect)((function(){var t=function(){var t=Object(L.a)(Object(U.a)().mark((function t(){var c;return Object(U.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Te.getVochers(1);case 3:c=t.sent,console.log(c),e(ke.actions.setVoucher(c.data.vouchers)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();t()}),[]);var c=function(){var c=Object(L.a)(Object(U.a)().mark((function c(a){var s,n;return Object(U.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,console.log(a),s=t.filter((function(e){return e._id!==a})),e(ke.actions.setVoucher(s)),c.next=6,Te.deleteVoucher(a);case 6:n=c.sent,$.c.success(n.data.message),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(0),$.c.error(c.t0.response.data);case 13:case"end":return c.stop()}}),c,null,[[0,10]])})));return function(e){return c.apply(this,arguments)}}();console.log(t);var s=[{field:"_id",headerName:"ID",width:90},{field:"image",headerName:"Image",width:180,renderCell:function(e){return Object(g.jsx)("div",{className:"userListUser",children:Object(g.jsx)("img",{className:"voucherListImg",src:e.row.image,alt:""})})}},{field:"voucher_code",headerName:"Voucher Code",width:200,renderCell:function(e){return Object(g.jsx)("div",{className:"userListUser",children:e.row.voucher_code.length})}},{field:"createdAt",headerName:"Create At",width:180},{field:"point_cost",headerName:"Point Cost",width:160},{field:"action",headerName:"Action",width:150,renderCell:function(e){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(h.b,{to:{pathname:"/vouchers/"+e.row._id},state:{voucher:e.row},children:Object(g.jsx)("button",{className:"userListEdit",children:"Edit"})}),Object(g.jsx)(te.a,{className:"userListDelete",onClick:function(){return c(e.row._id)}})]})}}];return Object(g.jsx)("div",{className:"userList",children:Object(g.jsx)(ee.a,{rows:t,disableSelectionOnClick:!0,columns:s,pageSize:8,checkboxSelection:!0,getRowId:function(e){return e._id}})})}c(503);function Pe(){var e=Object(a.useState)(null),t=Object(T.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(null),r=Object(T.a)(n,2),i=(r[0],r[1],Object(a.useState)(null)),l=Object(T.a)(i,2),o=(l[0],l[1],Object(a.useState)(null)),j=Object(T.a)(o,2),d=(j[0],j[1],Object(a.useState)(null)),u=Object(T.a)(d,2),b=(u[0],u[1],Object(O.f)()),m=Object(a.useState)(null),h=Object(T.a)(m,2),x=h[0],f=h[1],v=Object(a.useState)(0),N=Object(T.a)(v,2),w=N[0],I=N[1],y=(Object(p.b)(),function(e){var t=e.target.value;f(Object(re.a)(Object(re.a)({},x),{},Object(ne.a)({},e.target.name,t)))}),C=function(){var e=Object(L.a)(Object(U.a)().mark((function e(t){var c;return Object(U.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Te.createVoucher(x);case 4:c=e.sent,console.log(c),$.c.success(c.data.message),b("/vouchers"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),$.c.error(e.t0.response.data);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return console.log(x),Object(g.jsxs)("div",{className:"voucherCreate",children:[Object(g.jsx)("span",{className:"voucherCreateTitle",children:"Create New Voucher"}),Object(g.jsxs)("form",{className:"voucherCreateForm",children:[Object(g.jsxs)("div",{className:"voucherCreateLeft",children:[Object(g.jsxs)("div",{className:"voucherCreateItem",children:[Object(g.jsx)("label",{children:"Point Cost"}),Object(g.jsx)("input",{type:"text",placeholder:"annabeck99",name:"point_cost",onChange:y,className:"voucherCreateInput"})]}),Object(g.jsxs)("div",{className:"userUpdateItem",children:[Object(g.jsx)("label",{children:"Supplier Name"}),Object(g.jsx)("input",{type:"text",name:"supplier_name",onChange:y,placeholder:"Netflix",className:"voucherCreateInput"})]}),Object(g.jsxs)("div",{className:"voucherCreateItem",children:[Object(g.jsx)("label",{children:"Description"}),Object(g.jsx)("input",{type:"text",name:"description",onChange:y,placeholder:"The best last for one ",className:"userUpdateInput"})]}),Object(g.jsxs)("div",{className:"voucherCreateItem",children:[Object(g.jsx)("label",{children:"Amount Of Voucher Code "}),Object(g.jsx)("input",{type:"number",name:"amount_voucher_code",onChange:y,placeholder:"1",className:"userUpdateInput"})]})]}),Object(g.jsxs)("div",{className:"voucherCreateRight",children:[Object(g.jsxs)("div",{className:"voucherCreateUpload",children:[c?Object(g.jsx)("div",{children:Object(g.jsx)("img",{src:URL.createObjectURL(c),alt:"Thumb",className:"voucherCreateImg"})}):Object(g.jsx)("img",{className:"voucherCreateImg",src:"https://steamykitchen.com/wp-content/uploads/2021/04/43fc8a7c-4e07-41ca-9c60-023ef2afec2c.png",alt:""}),Object(g.jsx)("label",{htmlFor:"file",children:Object(g.jsx)(je.a,{className:"voucherCreateIcon"})}),Object(g.jsx)("input",{type:"file",id:"file",style:{display:"none"},name:"img",onChange:function(e){e.target.files&&e.target.files.length>0&&s(e.target.files[0])}})]}),1===w?Object(g.jsx)("button",{className:"addProductButton",onClick:C,children:"Create"}):Object(g.jsx)("button",{className:"addProductButton",onClick:function(e){e.preventDefault(),[{file:c,label:"image"}].forEach((function(e){var t=Object(de.c)(me,"/vouchers/".concat(e.file.name)),c=Object(de.d)(t,e.file);c.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done")}),(function(e){console.log(e)}),Object(L.a)(Object(U.a)().mark((function t(){return Object(U.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(de.a)(c.snapshot.ref).then((function(t){f((function(c){return Object(re.a)(Object(re.a)({},c),{},Object(ne.a)({},e.label,t))})),I((function(e){return e+1}))}));case 1:case"end":return t.stop()}}),t)}))))}))},children:"Upload"})]})]})]})}c(504);function _e(){var e=Object(O.e)().state.voucher,t=Object(a.useState)(null),c=Object(T.a)(t,2),s=c[0],n=c[1],r=Object(a.useState)(null),i=Object(T.a)(r,2),l=(i[0],i[1],Object(a.useState)(null)),o=Object(T.a)(l,2),j=(o[0],o[1],Object(a.useState)(null)),d=Object(T.a)(j,2),u=(d[0],d[1],Object(a.useState)(null)),b=Object(T.a)(u,2),m=(b[0],b[1],Object(a.useState)(null)),x=Object(T.a)(m,2),f=x[0],v=x[1],N=Object(a.useState)(0),w=Object(T.a)(N,2),I=w[0],y=w[1],C=(Object(p.b)(),Object(a.useState)(null)),S=Object(T.a)(C,2),k=S[0],M=S[1],P=function(e){var t=e.target.name;M(Object(re.a)(Object(re.a)({},k),{},Object(ne.a)({},e.target.name,t)))},_=function(){var t=Object(L.a)(Object(U.a)().mark((function t(c){var a;return Object(U.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),t.prev=1,t.next=4,Te.updateVoucher(e._id,f);case 4:a=t.sent,console.log(a),$.c.success(a.data.message),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),$.c.error(t.t0.response.data);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}();return console.log(e),Object(g.jsxs)("div",{className:"product",children:[Object(g.jsxs)("div",{className:"productTitleContainer",children:[Object(g.jsx)("h1",{className:"productTitle",children:"Voucher"}),Object(g.jsx)(h.b,{to:"/newMovies",children:Object(g.jsx)("button",{className:"productAddButton",children:"Create"})})]}),Object(g.jsx)("div",{className:"productTop",children:Object(g.jsxs)("div",{className:"productTopRight",children:[Object(g.jsxs)("div",{className:"productInfoTop",children:[Object(g.jsx)("img",{src:e.image,alt:"",className:"productInfoImg"}),Object(g.jsx)("span",{className:"productName",children:e.title})]}),Object(g.jsxs)("div",{className:"productInfoBottom",children:[Object(g.jsxs)("div",{className:"productInfoItem",children:[Object(g.jsx)("span",{className:"productInfoKey",children:"id: "}),Object(g.jsx)("span",{className:"productInfoValue",children:e._id})]}),Object(g.jsxs)("div",{className:"productInfoItem",children:[Object(g.jsx)("span",{className:"productInfoKey",children:"Point Cost:"}),Object(g.jsx)("span",{className:"productInfoValue",children:e.point_cost})]}),Object(g.jsxs)("div",{className:"productInfoItem",children:[Object(g.jsx)("span",{className:"productInfoKey",children:"Create At:"}),Object(g.jsx)("span",{className:"productInfoValue",children:e.createdAt.slice(0,10)})]})]})]})}),Object(g.jsx)("div",{className:"productBottom",children:Object(g.jsxs)("form",{className:"productForm",children:[Object(g.jsxs)("div",{className:"productFormLeft",children:[Object(g.jsx)("label",{children:"Point Cost"}),Object(g.jsx)("input",{type:"text",placeholder:e.point_cost,name:"title",onChange:P}),Object(g.jsx)("label",{children:"Supplier Name"}),Object(g.jsx)("input",{type:"text",placeholder:e.supplier_name,name:"year"}),Object(g.jsx)("label",{children:"Description"}),Object(g.jsx)("input",{type:"text",placeholder:e.description,name:"genre",onChange:P}),Object(g.jsx)("label",{children:"Amount Of Voucher Code"}),Object(g.jsx)("input",{type:"text",placeholder:e.amount_voucher_code,name:"limit",onChange:P})]}),Object(g.jsxs)("div",{className:"productFormRight",children:[Object(g.jsxs)("div",{className:"productUpload",children:[s?Object(g.jsx)("div",{children:Object(g.jsx)("img",{src:URL.createObjectURL(s),alt:"Thumb",className:"userUpdateImg"})}):Object(g.jsx)("img",{className:"userUpdateImg",src:e.image,alt:""}),Object(g.jsx)("label",{htmlFor:"file",children:Object(g.jsx)(je.a,{className:"userUpdateIcon"})}),Object(g.jsx)("input",{type:"file",id:"file",style:{display:"none"},name:"profilePic",onChange:function(e){e.target.files&&e.target.files.length>0&&n(e.target.files[0])}})]}),1===I?Object(g.jsx)("button",{className:"addProductButton",onClick:_,children:"Update"}):Object(g.jsx)("button",{className:"addProductButton",onClick:function(e){e.preventDefault(),[{file:s,label:"image"}].forEach((function(e){var t=Object(de.c)(me,"/vouchers/".concat(e.file.name)),c=Object(de.d)(t,e.file);c.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done")}),(function(e){console.log(e)}),Object(L.a)(Object(U.a)().mark((function t(){return Object(U.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(de.a)(c.snapshot.ref).then((function(t){v((function(c){return Object(re.a)(Object(re.a)({},c),{},Object(ne.a)({},e.label,t))})),y((function(e){return e+1}))}));case 1:case"end":return t.stop()}}),t)}))))}))},children:"Upload"})]})]})})]})}var Ae=c.p+"static/media/lomo-removebg-preview.6f7ef22b.png",De=(c(505),function(){var e=Object(a.useState)({email:"",password:""}),t=Object(T.a)(e,2),c=t[0],s=t[1],n=Object(O.f)(),r=Object(p.b)(),i=function(){var e=Object(L.a)(Object(U.a)().mark((function e(t){var a;return Object(U.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),e.next=4,H.login(c);case 4:a=e.sent,console.log(a.data),window.localStorage.setItem("token",a.data.token),window.localStorage.setItem("admin",JSON.stringify(a.data.data)),r(v.actions.setAdmin(a.data.data)),$.c.success("Login SuccessFully!"),n("/"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0),$.c.error("Wrong password or eamail!");case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"login",children:[Object(g.jsx)("div",{className:"top",children:Object(g.jsx)("div",{className:"wrapper",children:Object(g.jsx)("img",{className:"logo",src:Ae,alt:""})})}),Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)("form",{children:[Object(g.jsx)("h1",{children:"Login"}),Object(g.jsx)("input",{type:"email",placeholder:"Enter your email or phone number",value:c.email,onChange:function(e){return s(Object(re.a)(Object(re.a)({},c),{},{email:e.target.value}))}}),Object(g.jsx)("input",{type:"password",placeholder:"Enter your password here",value:c.password,onChange:function(e){return s(Object(re.a)(Object(re.a)({},c),{},{password:e.target.value}))}}),Object(g.jsx)("button",{className:"loginButton",onClick:function(e){return i(e)},children:Object(g.jsx)("b",{children:"Sign In"})}),Object(g.jsx)("span",{}),Object(g.jsxs)("small",{children:["This page is protected by Google reCAPTCHA to ensure you're not a bot. ",Object(g.jsx)("b",{children:"Learn More"})]})]})})]})}),Be=(c(506),c(274)),Ve=Object(ue.a)({apiKey:"AIzaSyCjg1Ho0SnLMYAC8D3TN4oGbxCNTzt8wZ0",authDomain:"netflix-admin-70527.firebaseapp.com",projectId:"netflix-admin-70527",storageBucket:"netflix-admin-70527.appspot.com",messagingSenderId:"578489467671",appId:"1:578489467671:web:5e3e578b6562ef3977ed52",measurementId:"G-TDZPN87LD6"});Object(Be.a)(Ve);var Ee=function(){var e=Object(p.c)((function(e){return e.admin.info}));return Object(g.jsxs)(h.a,{children:[e?Object(g.jsx)(S,{}):Object(g.jsx)("div",{}),Object(g.jsxs)("div",{className:"container",children:[e?Object(g.jsx)(w,{}):Object(g.jsx)("div",{}),Object(g.jsxs)(O.c,{children:[Object(g.jsx)(O.a,{path:"/",element:e?Object(g.jsx)(X,{}):Object(g.jsx)(De,{})}),Object(g.jsx)(O.a,{path:"/login",element:e?Object(g.jsx)(X,{}):Object(g.jsx)(De,{})}),e&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(O.a,{path:"/",element:Object(g.jsx)(X,{})}),Object(g.jsx)(O.a,{path:"/users",element:Object(g.jsx)(se,{})}),Object(g.jsx)(O.a,{path:"/users/:userId",element:Object(g.jsx)(Oe,{})}),Object(g.jsx)(O.a,{path:"/newUser",element:Object(g.jsx)(he,{})}),Object(g.jsx)(O.a,{path:"/movies",element:Object(g.jsx)(ve,{})}),Object(g.jsx)(O.a,{path:"/movie/:movieId",element:Object(g.jsx)(Se,{})}),Object(g.jsx)(O.a,{path:"/newMovies",element:Object(g.jsx)(Ue,{})}),Object(g.jsx)(O.a,{path:"/lists",element:Object(g.jsx)(Ie,{})}),Object(g.jsx)(O.a,{path:"/list/:listId",element:Object(g.jsx)(ye,{})}),Object(g.jsx)(O.a,{path:"/newListMovie",element:Object(g.jsx)(Ce,{})}),Object(g.jsx)(O.a,{path:"/vouchers",element:Object(g.jsx)(Me,{})}),Object(g.jsx)(O.a,{path:"/newVouchers",element:Object(g.jsx)(Pe,{})}),Object(g.jsx)(O.a,{path:"/vouchers/:id",element:Object(g.jsx)(_e,{})})]})]})]}),Object(g.jsx)($.b,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,transition:$.a})]})},Fe=Object(x.a)({reducer:{admin:N,users:ae,movies:xe,lists:we,vouchers:Le}});n.a.render(Object(g.jsx)(p.a,{store:Fe,children:Object(g.jsx)(Ee,{})}),document.getElementById("root"))}},[[507,1,2]]]);
//# sourceMappingURL=main.a5590137.chunk.js.map